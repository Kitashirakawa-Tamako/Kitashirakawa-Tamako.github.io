(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[488],{266:function(i,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/zh-CN",function(){return s(8653)}])},8653:function(i,e,s){"use strict";s.r(e),s.d(e,{useTOC:function(){return h}});var n=s(5893),t=s(7812),d=s(3393),l=s(8925);s(3322);var r=s(5192);function h(i){return[{value:"特性",id:"特性",depth:2},{value:"安装",id:"安装",depth:2},{value:"开始",id:"开始",depth:2},{value:"模拟器",id:"模拟器",depth:3},{value:"虚拟手柄",id:"虚拟手柄",depth:3},{value:"API",id:"api",depth:2},{value:"Enum",id:"enum",depth:3},{value:"Buttons",id:"buttons",depth:4},{value:"Controllers",id:"controllers",depth:4},{value:"ReactNesProps",id:"reactnesprops",depth:3},{value:"ReactNesRef",id:"reactnesref",depth:3},{value:"ReactNesButtons",id:"reactnesbuttons",depth:3},{value:"GamepadButtonEvent",id:"gamepadbuttonevent",depth:3},{value:"NesData",id:"nesdata",depth:3}]}e.default=(0,t.c)(function(i){let{toc:e=h(i)}=i,s={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",span:"span",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...i.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{children:"React Nes"}),"\n",(0,n.jsx)(s.p,{children:"Jsnes的React封装组件。"}),"\n",(0,n.jsx)(s.h2,{id:e[0].id,children:e[0].value}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"ROM 基于 JSNES 运行"}),"\n",(0,n.jsx)(s.li,{children:"支持键盘输入和手柄输入"}),"\n",(0,n.jsx)(s.li,{children:"内置虚拟手柄"}),"\n",(0,n.jsx)(s.li,{children:"支持游戏进度保存和读取"}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:e[1].id,children:e[1].value}),"\n",(0,n.jsx)(s.pre,{tabIndex:"0","data-language":"shell","data-word-wrap":"","data-copy":"",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"npm"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" install @kitashirakawa_tamako/react-nes"})]})})}),"\n",(0,n.jsx)(s.h2,{id:e[2].id,children:e[2].value}),"\n",(0,n.jsx)(s.h3,{id:e[3].id,children:e[3].value}),"\n",(0,n.jsx)(s.pre,{icon:r.Dr,tabIndex:"0","data-language":"js","data-word-wrap":"","data-copy":"",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { ReactNes } "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" '@kitashirakawa_tamako/react-nes'"})]})})}),"\n",(0,n.jsx)(s.pre,{icon:r.Dr,tabIndex:"0","data-language":"js","data-word-wrap":"","data-copy":"",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"<"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"ReactNes"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" />"})]})})}),"\n",(0,n.jsx)(s.h3,{id:e[4].id,children:e[4].value}),"\n",(0,n.jsx)(s.pre,{icon:r.Dr,tabIndex:"0","data-language":"js","data-word-wrap":"","data-copy":"",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { ReactNes, VirtualGamepad } "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" '@kitashirakawa_tamako/react-nes'"})]})})}),"\n",(0,n.jsx)(s.pre,{icon:r.Dr,tabIndex:"0","data-language":"js","data-word-wrap":"","data-copy":"",children:(0,n.jsx)(s.code,{children:(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" ref"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" useRef"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"null"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"})]})})}),"\n",(0,n.jsx)(s.pre,{icon:r.Dr,tabIndex:"0","data-language":"js","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"<"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"ReactNes"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" ref"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{ref}/>"})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"<"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"VirtualGamepad"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" nesRef"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{ref} />"})]})]})}),"\n",(0,n.jsx)(s.h2,{id:e[5].id,children:e[5].value}),"\n",(0,n.jsx)(s.h3,{id:e[6].id,children:e[6].value}),"\n",(0,n.jsx)(s.h4,{id:e[7].id,children:e[7].value}),"\n",(0,n.jsx)(s.pre,{icon:r.Dr,tabIndex:"0","data-language":"js","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { Buttons } "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" '@kitashirakawa_tamako/react-nes'"})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsx)(s.span,{children:(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{"})}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "BUTTON_A"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"0"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "BUTTON_B"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"1"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "BUTTON_SELECT"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"2"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "BUTTON_START"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"3"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "BUTTON_UP"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"4"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "BUTTON_DOWN"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"5"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "BUTTON_LEFT"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"6"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "BUTTON_RIGHT"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"7"})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsx)(s.span,{children:(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,n.jsx)(s.h4,{id:e[8].id,children:e[8].value}),"\n",(0,n.jsx)(s.pre,{icon:r.Dr,tabIndex:"0","data-language":"js","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(s.code,{children:[(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { Controllers } "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" '@kitashirakawa_tamako/react-nes'"})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsx)(s.span,{children:(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{"})}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "P1"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"1"}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsxs)(s.span,{children:[(0,n.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'    "P2"'}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),(0,n.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"2"})]}),"\n",(0,n.jsx)(s.span,{children:" "}),"\n",(0,n.jsx)(s.span,{children:(0,n.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,n.jsx)(s.h3,{id:e[9].id,children:e[9].value}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"属性"}),(0,n.jsx)(s.th,{children:"说明"}),(0,n.jsx)(s.th,{children:"类型"}),(0,n.jsx)(s.th,{children:"默认值"}),(0,n.jsx)(s.th,{children:"版本"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"buttons"}),(0,n.jsx)(s.td,{children:"键盘按键与手柄按钮的对应关系"}),(0,n.jsx)(s.td,{children:"ReactNesButtons"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"volume"}),(0,n.jsx)(s.td,{children:"音量大小0-1"}),(0,n.jsx)(s.td,{children:"number"}),(0,n.jsx)(s.td,{children:"0.5"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"fullScreen"}),(0,n.jsx)(s.td,{children:"是否全屏"}),(0,n.jsx)(s.td,{children:"boolean"}),(0,n.jsx)(s.td,{children:"false"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"width"}),(0,n.jsx)(s.td,{children:"画面宽度"}),(0,n.jsx)(s.td,{children:"number | string"}),(0,n.jsx)(s.td,{children:"256"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"height"}),(0,n.jsx)(s.td,{children:"画面高度"}),(0,n.jsx)(s.td,{children:"number | string"}),(0,n.jsx)(s.td,{children:"240"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"fillStyle"}),(0,n.jsx)(s.td,{children:"默认填充颜色"}),(0,n.jsx)(s.td,{children:"string"}),(0,n.jsx)(s.td,{children:"#000"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"onButtonEvent"}),(0,n.jsx)(s.td,{children:"键盘输入回调"}),(0,n.jsx)(s.td,{children:"(e: GamepadButtonEvent) => void"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"onGamepadConnect"}),(0,n.jsx)(s.td,{children:"gamepad api onconnect 事件触发时回调"}),(0,n.jsx)(s.td,{children:"(gamepad: any) => void"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"onGamepadDisconnect"}),(0,n.jsx)(s.td,{children:"gamepad api ondisconnect 事件触发时回调"}),(0,n.jsx)(s.td,{children:"(id: number) => void"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]})]})]}),"\n",(0,n.jsx)(s.h3,{id:e[10].id,children:e[10].value}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"属性"}),(0,n.jsx)(s.th,{children:"说明"}),(0,n.jsx)(s.th,{children:"类型"}),(0,n.jsx)(s.th,{children:"默认值"}),(0,n.jsx)(s.th,{children:"版本"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"buttonDown"}),(0,n.jsx)(s.td,{children:"按键按下输入"}),(0,n.jsx)(s.td,{children:"(controller: number, button: number) => void"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"buttonUp"}),(0,n.jsx)(s.td,{children:"按键松开输入"}),(0,n.jsx)(s.td,{children:"(controller: number, button: number) => void"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"saveData"}),(0,n.jsx)(s.td,{children:"保存游戏进度"}),(0,n.jsx)(s.td,{children:"() => NesData"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"loadData"}),(0,n.jsx)(s.td,{children:"加载游戏进度"}),(0,n.jsx)(s.td,{children:"(data: NesData) => void"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"reset"}),(0,n.jsx)(s.td,{children:"重置虚拟机"}),(0,n.jsx)(s.td,{children:"() => void"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"loadRom"}),(0,n.jsx)(s.td,{children:"加载游戏资源"}),(0,n.jsx)(s.td,{children:"(rom: string) => void"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]})]})]}),"\n",(0,n.jsx)(s.h3,{id:e[11].id,children:e[11].value}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"属性"}),(0,n.jsx)(s.th,{children:"说明"}),(0,n.jsx)(s.th,{children:"类型"}),(0,n.jsx)(s.th,{children:"默认值"}),(0,n.jsx)(s.th,{children:"版本"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"a1"}),(0,n.jsx)(s.td,{children:"P1攻击键A"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’KeyJ’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"b1"}),(0,n.jsx)(s.td,{children:"P1攻击键B"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’KeyK’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"select1"}),(0,n.jsx)(s.td,{children:"P1选择键"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’KeyF’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"start1"}),(0,n.jsx)(s.td,{children:"P1开始键"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’KeyH’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"up1"}),(0,n.jsx)(s.td,{children:"P1方向键上"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’KeyW’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"down1"}),(0,n.jsx)(s.td,{children:"P1方向键下"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’KeyS’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"left1"}),(0,n.jsx)(s.td,{children:"P1方向键左"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’KeyA’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"right1"}),(0,n.jsx)(s.td,{children:"P1方向键右"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’KeyD’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"a2"}),(0,n.jsx)(s.td,{children:"P2攻击键A"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’Numpad1’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"b2"}),(0,n.jsx)(s.td,{children:"P2攻击键B"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’Numpad2’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"select2"}),(0,n.jsx)(s.td,{children:"P2选择键"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’Numpad4’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"start2"}),(0,n.jsx)(s.td,{children:"P2开始键"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’Numpad5’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"up2"}),(0,n.jsx)(s.td,{children:"P2方向键上"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’ArrowUp’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"down2"}),(0,n.jsx)(s.td,{children:"P2方向键下"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’ArrowDown’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"left2"}),(0,n.jsx)(s.td,{children:"P2方向键左"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’ArrowLeft’"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"right2"}),(0,n.jsx)(s.td,{children:"P2方向键右"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"’ArrowRight’"}),(0,n.jsx)(s.td,{})]})]})]}),"\n",(0,n.jsx)(s.h3,{id:e[12].id,children:e[12].value}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"属性"}),(0,n.jsx)(s.th,{children:"说明"}),(0,n.jsx)(s.th,{children:"类型"}),(0,n.jsx)(s.th,{children:"默认值"}),(0,n.jsx)(s.th,{children:"版本"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"type"}),(0,n.jsx)(s.td,{children:"松开/按下"}),(0,n.jsx)(s.td,{children:"’keyup’ | ‘keydown’"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"button"}),(0,n.jsx)(s.td,{children:"手柄按键枚举值"}),(0,n.jsx)(s.td,{children:"number"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"code"}),(0,n.jsx)(s.td,{children:"键盘按键code码"}),(0,n.jsx)(s.td,{children:"KeyboardEvent.code"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"controller"}),(0,n.jsx)(s.td,{children:"玩家 1/2"}),(0,n.jsx)(s.td,{children:"number"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]})]})]}),"\n",(0,n.jsx)(s.h3,{id:e[13].id,children:e[13].value}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"属性"}),(0,n.jsx)(s.th,{children:"说明"}),(0,n.jsx)(s.th,{children:"类型"}),(0,n.jsx)(s.th,{children:"默认值"}),(0,n.jsx)(s.th,{children:"版本"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"cpu"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"object"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"mmap"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"object"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"ppu"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"object"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"romData"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{children:"string"}),(0,n.jsx)(s.td,{children:"-"}),(0,n.jsx)(s.td,{})]})]})]})]})},"/zh-CN",{filePath:"src/pages/zh-CN/index.mdx",timestamp:1708171913e3,pageMap:d.v,frontMatter:{},title:"React Nes"},"undefined"==typeof RemoteContent?h:RemoteContent.useTOC)},3322:function(i,e,s){"use strict";let n,t,d,l,r;var h=s(5893),c=s(7294),a=s(7520),o=s(4054);let x=new ArrayBuffer(245760),j=new Uint8ClampedArray(x),u=new Uint32Array(x),k=0,E=0,p=new Float32Array(1024),T=new Float32Array(1024),b=new a.NES({onFrame:i=>{for(let e=0;e<u.length;e++)u[e]=4278190080|i[e]},onAudioSample:(i,e)=>{p[E]=i,T[E]=e,E=E+1&1023}}),y=(0,c.forwardRef)(function(i,e){var a,x,u,E,y,v,g,B,F,f,N,U,w,O,m,_,C,D,A,P,R,K,S,I,G,L,z,H,W,J,M,q,V,X;let Z=()=>b.toJSON(),Q=i=>{id(i.romData),b.fromJSON(i)},Y=()=>{var e;clearInterval(t),n.fillStyle=null!==(e=i.fillStyle)&&void 0!==e?e:"#000",n.fillRect(0,0,256,240),null!=r&&r.disconnect(),null!=l&&l.disconnect(),b.reset()},$=i=>{id(i)};(0,c.useImperativeHandle)(e,()=>({buttonDown:b.buttonDown,buttonUp:b.buttonUp,saveData:Z,loadData:Q,reset:Y,loadRom:$}));let ii={a1:{controller:o.z.P1,button:o.E.BUTTON_A,code:null!==(C=null===(a=i.buttons)||void 0===a?void 0:a.a1)&&void 0!==C?C:"KeyJ"},b1:{controller:o.z.P1,button:o.E.BUTTON_B,code:null!==(D=null===(x=i.buttons)||void 0===x?void 0:x.b1)&&void 0!==D?D:"KeyK"},select1:{controller:o.z.P1,button:o.E.BUTTON_SELECT,code:null!==(A=null===(u=i.buttons)||void 0===u?void 0:u.select1)&&void 0!==A?A:"KeyF"},start1:{controller:o.z.P1,button:o.E.BUTTON_START,code:null!==(P=null===(E=i.buttons)||void 0===E?void 0:E.start1)&&void 0!==P?P:"KeyH"},up1:{controller:o.z.P1,button:o.E.BUTTON_UP,code:null!==(R=null===(y=i.buttons)||void 0===y?void 0:y.up1)&&void 0!==R?R:"KeyW"},down1:{controller:o.z.P1,button:o.E.BUTTON_DOWN,code:null!==(K=null===(v=i.buttons)||void 0===v?void 0:v.down1)&&void 0!==K?K:"KeyS"},left1:{controller:o.z.P1,button:o.E.BUTTON_LEFT,code:null!==(S=null===(g=i.buttons)||void 0===g?void 0:g.left1)&&void 0!==S?S:"KeyA"},right1:{controller:o.z.P1,button:o.E.BUTTON_RIGHT,code:null!==(I=null===(B=i.buttons)||void 0===B?void 0:B.right1)&&void 0!==I?I:"KeyD"},a2:{controller:2,button:o.E.BUTTON_A,code:null!==(G=null===(F=i.buttons)||void 0===F?void 0:F.a2)&&void 0!==G?G:"Numpad1"},b2:{controller:2,button:o.E.BUTTON_B,code:null!==(L=null===(f=i.buttons)||void 0===f?void 0:f.b2)&&void 0!==L?L:"Numpad2"},select2:{controller:2,button:o.E.BUTTON_SELECT,code:null!==(z=null===(N=i.buttons)||void 0===N?void 0:N.select2)&&void 0!==z?z:"Numpad4"},start2:{controller:2,button:o.E.BUTTON_START,code:null!==(H=null===(U=i.buttons)||void 0===U?void 0:U.start2)&&void 0!==H?H:"Numpad5"},up2:{controller:2,button:o.E.BUTTON_UP,code:null!==(W=null===(w=i.buttons)||void 0===w?void 0:w.up2)&&void 0!==W?W:"ArrowUp"},down2:{controller:2,button:o.E.BUTTON_DOWN,code:null!==(J=null===(O=i.buttons)||void 0===O?void 0:O.down2)&&void 0!==J?J:"ArrowDown"},left2:{controller:2,button:o.E.BUTTON_LEFT,code:null!==(M=null===(m=i.buttons)||void 0===m?void 0:m.left2)&&void 0!==M?M:"ArrowLeft"},right2:{controller:2,button:o.E.BUTTON_RIGHT,code:null!==(q=null===(_=i.buttons)||void 0===_?void 0:_.right2)&&void 0!==q?q:"ArrowRight"}},ie=[];for(let i of Object.keys(ii))ie.push(ii[i]);let is=(0,c.useRef)(null),it=()=>{let i=new ImageData(j,256,240);n.putImageData(i,0,0),b.frame()},id=e=>{var s;Y(),b.loadROM(e),null==d&&(d=new window.AudioContext),null==r&&(r=d.createGain()),null==l&&((l=d.createScriptProcessor(1024)).onaudioprocess=i=>{let e=i.outputBuffer,s=e.getChannelData(0),n=e.getChannelData(1);for(let i=0;i<e.length;i++)s[i]=p[k],n[i]=T[k],k=k+1&1023}),r.gain.value=null!==(s=i.volume)&&void 0!==s?s:.5,r.connect(d.destination),l.connect(r),t=setInterval(it,16.7)};return(0,c.useEffect)(()=>{if(null!=is.current){let i=is.current.getContext("2d",{willReadFrequently:!0});null!=i&&(n=i,Y())}s(4936);let e=window.gameControl;return e.on("connect",function(e){var s;null===(s=i.onGamepadConnect)||void 0===s||s.call(i,e);let n=e.id+1;e.before("button0",()=>{b.buttonDown(n,o.E.BUTTON_A)}).after("button0",()=>{b.buttonUp(n,o.E.BUTTON_A)}).before("button1",()=>{b.buttonDown(n,o.E.BUTTON_B)}).after("button1",()=>{b.buttonUp(n,o.E.BUTTON_B)}).before("select",()=>{b.buttonDown(n,o.E.BUTTON_SELECT)}).after("select",()=>{b.buttonUp(n,o.E.BUTTON_SELECT)}).before("start",()=>{b.buttonDown(n,o.E.BUTTON_START)}).after("start",()=>{b.buttonUp(n,o.E.BUTTON_START)}).before("up",()=>{b.buttonDown(n,o.E.BUTTON_UP)}).after("up",()=>{b.buttonUp(n,o.E.BUTTON_UP)}).before("down",()=>{b.buttonDown(n,o.E.BUTTON_DOWN)}).after("down",()=>{b.buttonUp(n,o.E.BUTTON_DOWN)}).before("left",()=>{b.buttonDown(n,o.E.BUTTON_LEFT)}).after("left",()=>{b.buttonUp(n,o.E.BUTTON_LEFT)}).before("right",()=>{b.buttonDown(n,o.E.BUTTON_RIGHT)}).after("right",()=>{b.buttonUp(n,o.E.BUTTON_RIGHT)}).before("button12",()=>{b.buttonDown(n,o.E.BUTTON_UP)}).after("button12",()=>{b.buttonUp(n,o.E.BUTTON_UP)}).before("button13",()=>{b.buttonDown(n,o.E.BUTTON_DOWN)}).after("button13",()=>{b.buttonUp(n,o.E.BUTTON_DOWN)}).before("button14",()=>{b.buttonDown(n,o.E.BUTTON_LEFT)}).after("button14",()=>{b.buttonUp(n,o.E.BUTTON_LEFT)}).before("button15",()=>{b.buttonDown(n,o.E.BUTTON_RIGHT)}).after("button15",()=>{b.buttonUp(n,o.E.BUTTON_RIGHT)})}),e.on("disconnect",function(e){var s;null===(s=i.onGamepadDisconnect)||void 0===s||s.call(i,e)}),()=>{Y()}},[]),(0,c.useEffect)(()=>{if(null!=r){var e;r.gain.value=null!==(e=i.volume)&&void 0!==e?e:.5}},[i.volume]),(0,c.useEffect)(()=>{if(!0===i.fullScreen){var e;null===(e=is.current)||void 0===e||e.requestFullscreen().catch(()=>{})}},[i.fullScreen]),(0,c.useEffect)(()=>{document.onkeydown=e=>{for(let n=0;n<ie.length;n++)if(ie[n].code===e.code){var s;b.buttonDown(ie[n].controller,ie[n].button),null===(s=i.onButtonEvent)||void 0===s||s.call(i,{type:"keydown",...ie[n]})}},document.onkeyup=e=>{for(let n=0;n<ie.length;n++)if(ie[n].code===e.code){var s;b.buttonUp(ie[n].controller,ie[n].button),null===(s=i.onButtonEvent)||void 0===s||s.call(i,{type:"keyup",...ie[n]})}}},[i.buttons]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{children:(0,h.jsx)("canvas",{ref:is,style:{width:null!==(V=i.width)&&void 0!==V?V:256,height:null!==(X=i.height)&&void 0!==X?X:240},width:256,height:240})})})});e.Z=y},4054:function(i,e,s){"use strict";var n,t,d,l;s.d(e,{E:function(){return n},z:function(){return t}}),(d=n||(n={}))[d.BUTTON_A=0]="BUTTON_A",d[d.BUTTON_B=1]="BUTTON_B",d[d.BUTTON_SELECT=2]="BUTTON_SELECT",d[d.BUTTON_START=3]="BUTTON_START",d[d.BUTTON_UP=4]="BUTTON_UP",d[d.BUTTON_DOWN=5]="BUTTON_DOWN",d[d.BUTTON_LEFT=6]="BUTTON_LEFT",d[d.BUTTON_RIGHT=7]="BUTTON_RIGHT",(l=t||(t={}))[l.P1=1]="P1",l[l.P2=2]="P2"},3393:function(i,e,s){"use strict";s.d(e,{v:function(){return n}});let n=[{data:{index:{title:"介绍"},demo:{title:"例子"}}},{name:"demo",route:"/zh-CN/demo",frontMatter:{sidebarTitle:"Demo"}},{name:"index",route:"/zh-CN",frontMatter:{sidebarTitle:"Index"}}]}},function(i){i.O(0,[770,812,774,888,179],function(){return i(i.s=266)}),_N_E=i.O()}]);